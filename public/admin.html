<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin</title>
  <link rel="icon" href="data:," />
  <style>
    :root{
      --bg:#0b0c0f;
      --card:#151821;
      --line:#2a2f3a;
      --text:#f2f4f8;
      --muted:#aeb6c6;
      --accent:#ffd86b;
      --ok:#28a745;
      --bad:#dc3545;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{max-width:980px;margin:0 auto;padding:16px}
    .top{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .card{
      margin-top:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      border-radius:14px;
      padding:14px;
    }
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .col6{grid-column:span 6}
    .col12{grid-column:span 12}
    @media (max-width:720px){ .col6{grid-column:span 12} }

    label{display:block;font-size:13px;color:var(--muted);margin:10px 0 6px}
    input[type="text"], input[type="password"], textarea{
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid var(--line);
      background:#0f1320;
      color:var(--text);
      outline:none;
    }
    textarea{min-height:88px;resize:vertical}
    input[type="file"]{width:100%}
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button{
      border:0;border-radius:12px;
      padding:11px 14px;
      cursor:pointer;
      font-weight:800;
    }
    .btnOk{background:var(--ok);color:#fff}
    .btnBad{background:var(--bad);color:#fff}
    .btnGhost{
      background:transparent;color:var(--text);
      border:1px solid var(--line);
    }
    .hint{color:var(--muted);font-size:13px;line-height:1.35}
    .preview{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .thumb{
      width:180px; aspect-ratio: 16/6;
      border:1px solid var(--line);
      border-radius:12px;
      overflow:hidden;
      background:#0a0a0a;
    }
    .thumb img{width:100%;height:100%;object-fit:cover}
    .status{margin-top:10px;color:var(--muted);font-size:13px}
    .status.ok{color:#8ff0a4}
    .status.bad{color:#ffb4b4}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div>
        <div style="font-weight:900;font-size:18px">Admin Panel</div>
        <div class="hint">Kelola gambar & link. Data tersimpan di database Railway (Postgres).</div>
      </div>
      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
        <a href="/">‚Üê Kembali ke Website</a>
        <button class="btnGhost" id="btnLogout">Logout</button>
      </div>
    </div>

    <div class="card" id="loginCard">
      <div style="font-weight:900;margin-bottom:6px">Login</div>
      <div class="grid">
        <div class="col6">
          <label>Password Admin</label>
          <input type="password" id="adminPass" placeholder="Masukkan password" />
        </div>
        <div class="col6" style="display:flex;align-items:flex-end">
          <button class="btnOk" id="btnLogin">Masuk</button>
        </div>
      </div>
      <div class="status" id="loginStatus"></div>
    </div>

    <div class="card" id="panelCard" style="display:none">
      <div style="font-weight:900;margin-bottom:6px">Konten Website</div>
      <div class="grid">
        <div class="col6">
          <label>Marquee Text</label>
          <input type="text" id="marquee_text" placeholder="Teks berjalan..." />
        </div>
        <div class="col6">
          <label>Subtitle Text</label>
          <input type="text" id="subtitle_text" placeholder="Teks bawah tombol..." />
        </div>

        <div class="col6">
          <label>Link LOGIN</label>
          <input type="text" id="login_url" placeholder="https://..." />
        </div>
        <div class="col6">
          <label>Link DAFTAR</label>
          <input type="text" id="daftar_url" placeholder="https://..." />
        </div>

        <div class="col12">
          <label>Pills (pisahkan dengan koma)</label>
          <textarea id="pills" placeholder="Contoh: Fast, Secure, 24/7 Support"></textarea>
        </div>

        <div class="col6">
          <label>Upload Logo (png/jpg/webp)</label>
          <input type="file" id="logoFile" accept="image/*" />
        </div>
        <div class="col6">
          <label>Background Image (opsional)</label>
          <input type="file" id="bgFile" accept="image/*" />
          <label style="margin-top:10px">
            <input type="checkbox" id="bg_enabled" />
            Aktifkan background dari database
          </label>
        </div>

        <div class="col6">
          <label>Upload Slider 1</label>
          <input type="file" id="slide1File" accept="image/*" />
        </div>
        <div class="col6">
          <label>Upload Slider 2</label>
          <input type="file" id="slide2File" accept="image/*" />
        </div>
        <div class="col6">
          <label>Upload Slider 3</label>
          <input type="file" id="slide3File" accept="image/*" />
        </div>

        <div class="col12">
          <div class="preview">
            <div class="thumb"><img id="prevLogo" alt="logo preview"></div>
            <div class="thumb"><img id="prev1" alt="slide1 preview"></div>
            <div class="thumb"><img id="prev2" alt="slide2 preview"></div>
            <div class="thumb"><img id="prev3" alt="slide3 preview"></div>
          </div>
          <div class="status" id="saveStatus"></div>
          <div class="btnrow">
            <button class="btnOk" id="btnSave">Simpan Text & Link</button>
            <button class="btnGhost" id="btnRefresh">Reload dari DB</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/admin.js"></script>
</body>
</html>
